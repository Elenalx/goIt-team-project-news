{"mappings":"AAEeA,SAASC,cAAc","sources":["src/js/weather.js"],"sourcesContent":["const KEY = '03c5762bdc5b910c3c4c3d1ef326933c';\n\nconst listEl = document.querySelector('.list-news');\n\nexport function success(position) {\n  const latitude = position.coords.latitude;\n  const longitude = position.coords.longitude;\n  getWeather(latitude, longitude)\n    .then(data => {\n      renderWeatherElement(data, listEl);\n    })\n    .catch(err => console.log(err));\n}\n\nexport function error(err) {\n  getWeather(50.4333, 30.5167).then(data => {\n    renderWeatherElement(data, listEl);\n  });\n}\n\nexport function getWeather(latitude, longitude) {\n  return fetch(\n    `https://api.openweathermap.org/data/2.5/weather?appid=${KEY}&lat=${latitude}&lon=${longitude}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n}\n\nexport function renderWeatherElement(data, container) {\n  const {\n    weather,\n    main: { temp },\n    name,\n  } = data;\n\n  const localTemp = (temp / 100).toFixed(1);\n\n  const date = new Date().toDateString();\n  const dayWeek = date.slice(0, 4);\n  const localDate = date.slice(4, date.length);\n\n  const markup = `<li class=\"weather list-news__item\">\n        <div class=\"weather__info\">\n        <span class=\"weather__temp\">${localTemp}&#176;</span>\n        <div>\n        <span class=\"weather__descr\">${weather[0].main}</span>\n        <div class=\"weather__city\">\n        <span>${name}</span>\n        </div>\n        </div>\n        </div>\n        <img class=\"weather__img\" src=\"https://openweathermap.org/img/wn/${weather[0].icon}@4x.png\" alt=\"Weather icon\">\n        <div class=\"weather__date\">\n        <p>${dayWeek}</p>\n        <p>${localDate}</p>\n        </div>\n        <a class=\"weather__link\" href=\"https://ua.sinoptik.ua/\" target=\"_blank\" rel=\"noreferrer noopener\">weather for week</a>\n        </li>`;\n  container.insertAdjacentHTML('afterbegin', markup);\n}\n"],"names":["document","querySelector"],"version":3,"file":"index.0f5dc09e.js.map"}